<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Tetris created by Maxime MONET & Arthur PALY"/>
    <title>ðŸŽ® Tetris</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/nes.css@latest/css/nes.min.css"/>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<div id="countdown">
    <div class="c"></div>
    <div class="o"></div>
    <div class="u"></div>
    <div class="n"></div>
    <div class="t"></div>
</div>

<svg class="countdownDefs">
    <defs>
        <filter id="filter">
            <feGaussianBlur in="SourceGraphic" stdDeviation="18" result="blur"/>
            <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 28 -10" result="filter"/>
            <feComposite in="SourceGraphic" in2="filter" operator="atop"/>
        </filter>
    </defs>
</svg>

<div id="menu">
    <div class="title">
        <h1>tetris</h1>
    </div>

    <div id="settings">
        <h2 class="title"> Settings : </h2>
        <div class="form">
            <label for="cols">Cols</label>
            <input type="number" id="cols" name="cols" min="10" max="20" value="10">
            <label for="rows">Rows</label>
            <input type="number" id="rows" name="lines" min="10" max="30" value="20">
        </div>
        <p class="blink" id="start">Press [START] to play!</p>
    </div>
</div>

<div class="container">
    <div id="gameOver" class="hidden">
        <div id="gameOverPopup">
            <div class="row">
                <div class="col-12">
                    <?xml version="1.0" encoding="UTF-8"?>
                    <svg class="gameOverImage" id="Calque_1" data-name="Calque 1" xmlns="http://www.w3.org/2000/svg" width="474" height="463" viewBox="0 0 474 463">
                        <defs>
                            <style>
                                .cls-1 {
                                    fill: #fff;
                                }
                            </style>
                        </defs>
                        <path d="m285.26,215.9c0-5.26-.33-10.23.09-15.14.39-4.6-1.39-5.79-5.65-5.51-4.92.32-9.87.07-15.39.07,0-6.78-.16-12.91.17-19.01.05-.95,2.3-2.48,3.59-2.55,5.46-.29,10.94-.12,16.99-.12v-21.09h22.34v20.77h20.68v22c-4.56,0-8.98,0-13.39,0q-7.1,0-7.1,6.89c0,4.46,0,8.91,0,13.67h-22.32Z"/>
                        <path d="m197.92,173.42c0,6.89-.08,12.87.03,18.84.06,3-1.78,3.05-3.93,3.03-5.45-.04-10.91-.01-16.95-.01v20.61h-22.36c0-5.74-.12-11.19.05-16.63.1-3.07-1.07-4.1-4.08-4.01-5.29.17-10.59.05-16.24.05v-21.73h20.13v-21.1h22.39v20.94h20.95Z"/>
                        <path class="cls-1" d="m349.76,140.83v-67.78h-54.64v-33.09h-116.73c0,9.73-.16,19.04.08,28.34.09,3.79-1.22,4.82-4.9,4.78-14.67-.17-29.33-.06-44-.03-1.76,0-3.53.16-5.86.28v67.92h-29.41v94.28h29.8v26.74h54.34v51.14h20.41v-34.69c2.38,0,4.16-.06,5.94.01,5.26.21,12.2-1.42,15.26,1.3,2.65,2.36.98,9.67,1.06,14.79.1,6.28.02,12.56.02,19.35,8.72,0,16.69,0,24.65,0q6.44,0,6.45-6.56c0-9.45,0-18.91,0-28.51h21.88c0,2.37,0,4.33,0,6.29-.02,8.33-.15,16.67.07,25,.03,1.26,1.64,3.49,2.61,3.54,5.94.33,11.9.17,18.37.17,0-2.74,0-4.53,0-6.33,0-13.33.17-26.67-.08-40-.08-4.29.96-5.8,5.52-5.71,14.5.29,29,.12,43.5.09,1.77,0,3.53-.17,5.79-.29v-26.47h29.28v-94.58h-29.39Zm-155.73,54.47c-5.45-.04-10.91-.01-16.95-.01v20.61h-22.36c0-5.74-.12-11.19.05-16.63.1-3.07-1.07-4.1-4.08-4.01-5.29.17-10.59.05-16.24.05v-21.73h20.13v-21.1h22.39v20.94h20.95c0,6.89-.08,12.87.03,18.84.06,3-1.78,3.05-3.93,3.03Zm49.08,50.23h-21.94v-49.86c6.65,0,12.93-.11,19.2.12.94.03,2.61,1.66,2.62,2.57.16,15.6.12,31.2.12,47.18Zm84.97-50.2c-4.56,0-8.98,0-13.39,0q-7.1,0-7.1,6.89c0,4.46,0,8.91,0,13.67h-22.32c0-5.26-.33-10.23.09-15.14.39-4.6-1.39-5.79-5.65-5.51-4.92.32-9.87.07-15.39.07,0-6.78-.16-12.91.17-19.01.05-.95,2.3-2.48,3.59-2.55,5.46-.29,10.94-.12,16.99-.12v-21.09h22.34v20.77h20.68v22Z"/>
                    </svg>
                    <?xml version="1.0" encoding="UTF-8"?>
                    <svg class="gameOverImage" id="Calque_2" data-name="Calque 2" xmlns="http://www.w3.org/2000/svg" width="474" height="463" viewBox="0 0 474 463">
                        <defs>
                            <style>
                                .cls-2 {
                                    fill: #fff;
                                }
                            </style>
                        </defs>
                        <path class="cls-2" d="m170.58,423.43v-27.57h-31.43c0-2.32,0-4.1,0-5.89,0-35.49.1-70.99-.12-106.48-.03-4.82,1.56-5.98,5.95-5.72,5.43.31,10.89.08,16.92.08,0,2.36-.01,4.15,0,5.93.17,21.33.41,42.66.43,63.99,0,3.6.89,5.04,4.73,4.96,10.45-.22,20.91-.08,32-.08,0-5.77.18-10.89-.06-15.99-.17-3.58.81-5.22,4.72-4.93,4.14.31,8.35.31,12.49,0,3.93-.31,4.88,1.35,4.71,4.92-.24,5.11-.06,10.23-.06,15.68h29.5v-20.27h23.88c0,5.68-.17,11.27.12,16.84.07,1.29,1.66,3.57,2.6,3.59,10.13.26,20.26.16,31.07.16v-74.44h23.69v117.52h-30.32v27.72h-130.83Z"/>
                    </svg>
                    <h1 class="gameOverTitle">Game Over</h1>
                    <div class="gameOverStats">
                        <h2 class="gameOverScore">Score : <span id="gameOverScore"> X </span></h2>
                        <h2 class="gameOverLines">Lines : <span id="gameOverLines"> X </span></h2>
                        <h2 class="gameOverLevel">Level : <span id="gameOverLevel"> X </span></h2>
                        <h2 class="gameOverTime">Time : <span id="gameOverTime"> XX:XX </span></h2>
                        <button id="gameOverRestart" class="nes-btn is-primary">Restart</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-8" id="game">
            <div class="row hidden" id="buttons">
                <button id="pause" class="nes-btn is-primary">Pause</button>
                <button id="restart" class="nes-btn is-primary">Restart</button>
            </div>
            <canvas id="tetris"></canvas>
        </div>
        <div class="col-4 hidden" id="next">
            <div class="row sideGame">
                <h2 class="title">Next <br> tetromino</h2>
                <canvas id="nextPiece"></canvas>
            </div>
            <div class="row sideGame">
                <h2 class="title">Score</h2>
                <div id="score">0</div>
            </div>
            <div class="row sideGame">
                <h2 class="title">Level</h2>
                <div id="level">1</div>
            </div>
            <div class="row sideGame">
                <h2 class="title">Lines</h2>
                <div id="lines">0</div>
            </div>
            <div class="row sideGame">
                <h2 class="title">Time</h2>
                <div id="timer">00:00:00</div>
            </div>
        </div>
    </div>
</div>

<div id="credits">
    <h2 class="title">Made with </h2>
    <h2 class="heart"> &#10084; </h2>
    <h2 class="title">by <a href="https://github.com/Nobozor" target="_blank"> Maxime MONET </a> </h2>
    <h2 class="title">and <a href="https://github.com/ArthurMTX" target="_blank"> Arthur PALY </a> </h2>
</div>

<script type="module" src="js/models/tetris-piece.js"></script>
<script type="module" src="js/models/tetris-game.js"></script>
<script type="module" src="js/views/tetris-view.js"></script>
<script type="module" src="js/controllers/tetris-controllers.js"></script>
<script type="module" src="js/app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
</body>
</html>